model MappedTransferCompositonAssociation;

import judo::types;

// not required Single and Multi
entity EntityA {
    field EntityB singleEntityB;
    field EntityB[] multiEntityB;
}

entity EntityB {
    field String nameB;
}

transfer TransferA (EntityA a) {
    relation TransferB singleEntityB <= a.singleEntityB;
    relation TransferB[] multiEntityB <= a.multiEntityB;
}

transfer TransferB (EntityB b) {
    field String nameB <= b.nameB input:true;
}

// required single

entity EntityC {
    field required EntityD singleRequiredEntityD;
}

entity EntityD {
    field String nameD;
}

transfer TransferC (EntityC c) {
    relation required TransferD singleRequiredEntityD <= c.singleRequiredEntityD;
}

transfer TransferD (EntityD d) {
    field String nameD <= d.nameD input:true;
}

entity EntityE {
    field required String stringE;
    field EntityD[] multipleDonE;
}

transfer TransferE(EntityE entityE) {
    field required String stringE <= entityE.stringE input:true;
    relation TransferD[] multipleDonE <= entityE.multipleDonE eager:true;
}

entity EntityF {
    field required EntityD singleRequiredDonA;
}

transfer TransferF(EntityF entityf) {
    relation required TransferD singleRequiredDonA <= entityf.singleRequiredDonA eager:true;
}
